<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
<title>Uebung 6</title>
 <style type="text/css">
	 canvas {}
</style>
    <script type="text/javascript" src="https://threejs.org/build/three.min.js"></script>
 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>


<script type="text/javascript">

var scene, camera, renderer, p1, p2, pointGeometry;


// Zeichnen der Szene
function definitionScene() {
    scene = new THREE.Scene();
    // Definition der Kamera
    camera = new THREE.OrthographicCamera(-window.innerHeight / 2, window.innerHeight / 2, window.innerHeight / 2, -window.innerHeight/2, 1.0, -1.0);
    //Koordinatensystem hinzufügen
    axis = new THREE.AxisHelper(window.innerHeight/2);
    scene.add(axis);
    //Punkte einlesen
    var input = prompt("Eingabe x1, y1, x2, y2:", " ");
    var partsOfStr = input.split(',');
    p1 = {
        x: 0,
        y: 0
    };
    p1.x = parseInt(partsOfStr[0]);
    p1.y = parseInt(partsOfStr[1]);
    p2 = {
        x: 0,
        y: 0
    };
    p2.x = parseInt(partsOfStr[2]);
    p2.y = parseInt(partsOfStr[3]);
    pointGeometry = new THREE.Geometry();
    var p = new THREE.Vector3();
    p.x = p1.x;
    p.y = p1.y;
    p.z = 0;
    pointGeometry.vertices.push(p);
    var p = new THREE.Vector3();
    p.x = p2.x;
    p.y = p2.y;
    p.z = 0;
    pointGeometry.vertices.push(p);
    //Einfuegen des Aufrufs des Bresenham-Algorithmus

    var material = new THREE.PointsMaterial({ color: 0xFFFFFF });
    var pointarray = new THREE.Points( pointGeometry, material);
    scene.add(pointarray);
    //Renderer erzeugen
    renderer = new THREE.WebGLRenderer({ canvas: canvas, antialias: true });
    renderer.setSize(window.innerHeight, window.innerHeight);
    renderer.setClearColor("rgb(0, 0, 0)", 1); //Hintergrundfarbe
    renderer.render(scene, camera);
    renderer.render(scene, camera);
}


var canvas;


// Ausfuehren der WebGL-Anwendung, wird durch den onLoad-Event von der Webseite aufgerufen 
function runWebGLApp() {
    canvas = document.getElementById("canvas-element-id");
    //Beschaffen des WebGL-Kontext
    definitionScene(); 
}


</script>
</head>


<body onLoad='runWebGLApp()'>
    <canvas id="canvas-element-id" width="300" height="300"></canvas>
</body>
</html>
